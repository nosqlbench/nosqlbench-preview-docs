<!DOCTYPE html>
<html lang="en-US">
<head>
  <script src="https://previewdocs.nosqlbench.io/theme.min.js" integrity="sha384-IpIaa84kOKgkF5EJ0fD/kBe2wtIIsIB60ANGmuJxeA0dz5bSRfwBwp2/QybtQpU2"></script>
  <link rel="stylesheet" href="https://previewdocs.nosqlbench.io/abridge-switcher.css?h=4238d999f44a7bb130d5" />
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="preload" as="style" class="preStyle" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" crossorigin="anonymous" />
  <script defer src="https://previewdocs.nosqlbench.io/search_index.en.js?h=86583272338c691f1bb6" integrity="sha384-OKha9T0pwfrJHNey2CNW44GnP89XWdiSF+ha+KbH5pGWeS1kANWJ7H5lJajhxi6R"></script>
  <script defer src="https://previewdocs.nosqlbench.io/abridge-bundle-nofacade.min.js?h=9bcf621a2fcab7336017" integrity="sha384-u8AROOUG6n2Xjk2+7pvkkfeSIqinjI1tmqeBpZRlZtc5KFO/8DyFfEir6fAE2wcq"></script>
  <meta name="base" content="https://previewdocs.nosqlbench.io" />
<meta name="robots" content="index, follow" />
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <title>Combiner | NoSQLBench Project (PREVIEW)</title>
  <meta name="copyright" content="NoSQLBench Project (PREVIEW)" />
  <meta name="description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <link rel="canonical" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/" />
  <meta name="keywords" content="Abridge, Abridge.css, Zola, Theme, Zola Theme, getzola, Semantic Html, Fast, lightweight" />
  <meta property="og:url" content="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/" />
  <meta name="twitter:url" content="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/" />
  <meta property="og:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta name="twitter:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta property="og:title" content="Combiner | NoSQLBench Project (PREVIEW)" />
  <meta name="twitter:title" content="Combiner | NoSQLBench Project (PREVIEW)" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://previewdocs.nosqlbench.io/nb5banner.png" />
  <meta property="og:image" content="https://previewdocs.nosqlbench.io/nb5banner.png" />
  <meta property="og:site_name" content="NoSQLBench Project (PREVIEW)" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:updated_time" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#333333" />
  <meta name="msapplication-TileColor" content="#333333" />
  <link rel="manifest" href="https://previewdocs.nosqlbench.io/site.webmanifest" />
  <link rel="mask-icon" href="https://previewdocs.nosqlbench.io/safari-pinned-tab.svg" color="#ff9900" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://previewdocs.nosqlbench.io/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://previewdocs.nosqlbench.io/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://previewdocs.nosqlbench.io/favicon-16x16.png" />
  <noscript><link rel="stylesheet" href="https://previewdocs.nosqlbench.io/nojs.css" /></noscript>
</head>
<body>
  <header>
    <nav>
      <div><h1><a href="https://previewdocs.nosqlbench.io/"><img src="https://previewdocs.nosqlbench.io/nb5logo.png" alt="NoSQLBench5 (preview)" width="32" height="32" /> NoSQLBench v5 (PREVIEW)</a></h1></div><div>
        <ul><li> <h2><a href="https://previewdocs.nosqlbench.io/blog/">Blog</a></h2> </li><li> <h2><a href="https://previewdocs.nosqlbench.io/getting-started/">Getting Started</a></h2> </li><li> <h2><a href="https://previewdocs.nosqlbench.io/release-notes/">Release Notes</a></h2> </li><li class="js"><i type="reset" id="mode" class="svgs adjust"></i></li></ul>
      </div>
      <div>
        <form autocomplete=off class="js" name="goSearch" id="searchbox">
          <div class="searchd">
            <input id="searchinput" type="text" placeholder="Search" title="Search" />
            <button type="submit" title="Search"><i class="svgs search"></i></button>
          </div>
          <div><div id="suggestions"></div></div>
        </form>
      </div>

      <a href="http://github.com/nosqlbench/nosqlbench-build-docs" title="This doc site's project repo">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="1" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
      <a href="http://nosqlbench.io" title="NoSQLBench Project Site">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
    </nav>
    <hr /><div style="position:sticky"><span><a href="&#x2F;">NB5 Docsâ–º </a></span><span><a href="&#x2F;reference&#x2F;">Reference Sectionâ–º </a></span><span title="Binding functions are the core of the procedural data generation capabilities of NoSQLBench. They bind generated data to operations in a determinstic way."><a href="&#x2F;reference&#x2F;bindings&#x2F;"><strong>Binding Functionsâ–¼</strong> </a></span><span title="[current page]"><a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-combinitoric&#x2F;"><strong>Combiner ðŸ–º</strong></a></span>
</div></header>
  <main><!-- active_page: reference&#x2F;bindings&#x2F;funcref_combinitoric.md -->
<!-- active_section: reference&#x2F;bindings&#x2F;_index.md -->


<!-- lower_root: reference&#x2F;_index.md -->
<!-- >upper_root: reference&#x2F;_index.md -->

<div class="toc" aria-hidden="true" id="">
<!--  <h4>Binding Functions</h4>--><div class="toc-sticky"><div class="toc-item"title="This section is a specification of the standard workload format."><a href="&#x2F;reference&#x2F;workload_definition&#x2F;">â–ºWorkload Specification</a></div><div class="toc-item"title="DriverAdapters allow native drivers or other logic to be plugged into the nb5 engine."><a href="&#x2F;reference&#x2F;drivers&#x2F;">â–ºDrivers</a></div><div class="toc-item"title="Binding functions are the core of the procedural data generation capabilities of NoSQLBench. They bind generated data to operations in a determinstic way."><strong>â–¼Binding Functions</strong></div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-state&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-state&#x2F;">state functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;binding-concepts&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;binding-concepts&#x2F;">Binding Concepts</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-experimental&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-experimental&#x2F;">DNN_angular1_neighbors</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-vectors&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-vectors&#x2F;">DoubleVectorPadLeft</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-nulls&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-nulls&#x2F;">null functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-combinitoric&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-combinitoric&#x2F;"><strong>Combiner</strong></a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-general&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-general&#x2F;">general functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-collections&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-collections&#x2F;">collection functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-functional&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-functional&#x2F;">flow functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-hof&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-hof&#x2F;">CqlVector</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-distributions&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-distributions&#x2F;">distribution functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-periodic&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-periodic&#x2F;">Sin</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-datetime&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-datetime&#x2F;">datetime functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-readers&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-readers&#x2F;">FVecReader</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-premade&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-premade&#x2F;">pre-made functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-conversion&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-conversion&#x2F;">conversion functions</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-statistics&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-statistics&#x2F;">LongStats</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-objects&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-objects&#x2F;">Distance</a>
    </div><!-- subsection_page_path: &#x2F;reference&#x2F;bindings&#x2F;funcref-diagnostics&#x2F; -->
    <div class="toc-item-child">
      <a href="&#x2F;reference&#x2F;bindings&#x2F;funcref-diagnostics&#x2F;">diagnostic functions</a>
    </div><div class="toc-item"title="Documentation for bundled applications within NB5."><a href="&#x2F;reference&#x2F;apps&#x2F;">â–ºBundled Apps</a></div><div class="toc-item"title="Version data for the bundled and imported docs content"><a href="&#x2F;reference&#x2F;versions&#x2F;">â–ºVersion Info</a></div></div>
</div>

<article>

  <h2 id="combiner">Combiner</h2>
<h1 id="combiner-a-combinatoric-toolkit-for-nosqlbench">Combiner - a <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Combinatorics">combinatoric</a> toolkit for NoSQLBench</h1>
<hr />
<h2 id="synopsis">Synopsis</h2>
<p>Combiner is the core implementation of a combinatoric toolkit which is used
by other NoSQLBench functions in a more type-specific way. It allows for a common approach
to encoding unique values across a range of dimensions (which can be non-uniform)
with an affine mapping between different forms of data.</p>
<hr />
<h2 id="specifier">Specifier</h2>
<p>The specifier required by the constructor is a way to specify a range of character sets, each representing both
the per-value labeling as well as the radix of each position in the associated index, value, or character position.
Each position is delimited from the others with commas or semicolons. Each position can be either a single printable
character or a range of characters separated by
'-'.
Optionally, you can repeat a position with a multiplier in the form of '*n' where n is any valid number.</p>
<p>Examples:</p>
<ul>
<li>&quot;0-9A-F&quot; - hexadecimal characters, one digit only ; 0123456789ABCDEF</li>
<li>&quot;0-9*12&quot; - characters 0-9 in 12 digits, symbolic of values 000000000000 (0) .. 999999999999</li>
<li>&quot;5;5;5;-;8;6;7;-;5;3;0;9&quot; - 12 digits with one character each, effectively 555-867-5309, a single value</li>
<li>&quot;0-9;*2_=24j36*5*1&quot; - a somewhat random pattern with char sets [0123456789] and [*2_=24j36*5], showing how '*1' at the end can be used to escape '*5'</li>
</ul>
<p>The specifier is parsed into a non-uniform radix model, where the characters for each position represent a numerical encoding. As such, the cardinalities of each position are multiplied together to determine the total cardinality of the specified pattern. Any total cardinality below Long.MAX_VALUE, or 9,223,372,036,854,775,807 is allowed, and any combinations which would overflow this value will throw an error.</p>
<br />
<hr />
<h2 id="value-function">Value Function</h2>
<p>The function provided in the constructor is used to symbolically map the characters in the encoding string to a value
of any type. The value function will be called with number of distinct values up the the cardinality of the largest
position in the radix model. For example, a specifier of `A-Za-z0-9` would provide an input range from 0 to 61
inclusive to the value function. It is the combination of positions and unique values which provides the overall
cardinality, although the value function itself is responsible for the relatively lower cardinality elements which
are combined together to create higher-cardinality value arrays.</p>
<hr />
<h2 id="types-and-forms">Types and Forms</h2>
<p>Each form represents one way of seeing the data for a given cycle:</p>
<ol>
<li><strong>ordinal</strong> (long) - also known as the cycle, or input. This is an enumeration of all distinct combinations.</li>
<li><strong>indexes</strong> (int[]) - an array of indexes, one for each position in the specifier and thus each element in the array or character in the encoding.</li>
<li><strong>encoding</strong> (String) - a string which encodes the ordinal and the indexes in a convenient label which is unique within the range of possible values.</li>
<li><strong>(values) array (T[])</strong> - An array of the type T which can be provided via a mapping function. This is a mapping from the indexes through the provided value function.</li>
</ol>
<br />
<hr />
<h2 id="mapping-between-forms">Mapping between forms</h2>
<p>The array value can be derived with {@link #apply(long)}, {@link #getArray(int[])} (int[])}, and
{@link #getArray(String)},
given ordinal, indexes, or encoding as a starting point, respectively. This all ultimately use the one-way
function which you provide, thus you can't go from array form to the others.</p>
<p>Mapping between the other three is fairly trivial:</p>
<ul>
<li>You can get indexes from ordinal and encoding with {@link #getIndexes(long)} and {@link #getArray(String)}.</li>
<li>You can get encoding from ordinal and indexes with {@link #getEncoding(long)} and {@link #getEncoding(int[])}.</li>
<li>You can get ordinal from indexes or encoding with {@link #getOrdinal(int[])} and {@link #getOrdinal(String)}.</li>
</ul>
<br />
<p>This makes it easy to derive textual identifiers for specific combinations of elements such as a vector, use them
for
cross-checks such as with correctness testing, and represent specific test values in a very convenient form within
deterministic testing harnesses like NoSQLBench.</p>
<p>@param The generic type of the value which is mapped into each array position</p>
<ul>
<li><code>long -&gt; Combiner(String: spec, function.LongFunction&lt;T&gt;: elementFunction, Class&lt;? extends T&gt;: elementClazz) -&gt; T[]</code>
<ul>
<li><em>notes:</em> Construct a combiner which can compose unique combinations of array data.</li>
</ul>
</li>
</ul>
<p>@param spec
The string specifier, as explained in {@link Combiner} docs.
@param elementFunction
The function that indexes into a unique population of T elements
@param elementClazz
The component type for the values array which are produced by {@link #apply(long)}</p>
<h2 id="doublecombiner">DoubleCombiner</h2>
<p>For comprehensive docs on how this works, please see the javadocs for {@link Combiner}&lt;T&gt;. This class is merely a primitive specialization.</p>
<ul>
<li><code>long -&gt; DoubleCombiner(String: spec, function.LongToDoubleFunction: elementFunction) -&gt; double[]</code>
<ul>
<li><em>notes:</em> Construct a combiner which can compose unique combinations of array data.</li>
</ul>
</li>
</ul>
<p>@param spec
The string specifier, as explained in {@link DoubleCombiner} docs.
@param elementFunction
The function that indexes into a unique population of T elements</p>

<p><b><a href="#">Back to top</a></b></p>
</article>
<div class="toc" aria-hidden="true">
  <div class="toc-sticky">
    <h5>Combiner</h5>
    <div class="toc-item">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#combiner">Combiner</a>
    </div>
    <div class="toc-item">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#combiner-a-combinatoric-toolkit-for-nosqlbench">Combiner - a combinatoric toolkit for NoSQLBench</a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#synopsis"><small>- Synopsis</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#specifier"><small>- Specifier</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#value-function"><small>- Value Function</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#types-and-forms"><small>- Types and Forms</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#mapping-between-forms"><small>- Mapping between forms</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/reference/bindings/funcref-combinitoric/#doublecombiner"><small>- DoubleCombiner</small></a>
    </div>
  </div>
</div>
  </main>
  <footer>
    <hr />
    <div class="c">
      <nav>
        <ul></ul>
      </nav>
      <p class="s90">Copyright &copy; 2023-2024 NoSQLBench Project (PREVIEW)</p>
    </div>
  </footer>
</body>
</html>
