<!DOCTYPE html>
<html lang="en-US">
<head>
  <script src="https://previewdocs.nosqlbench.io/theme.min.js" integrity="sha384-IpIaa84kOKgkF5EJ0fD/kBe2wtIIsIB60ANGmuJxeA0dz5bSRfwBwp2/QybtQpU2"></script>
  <link rel="stylesheet" href="https://previewdocs.nosqlbench.io/abridge-switcher.css?h=4238d999f44a7bb130d5" />
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="preload" as="style" class="preStyle" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" crossorigin="anonymous" />
  <script defer src="https://previewdocs.nosqlbench.io/search_index.en.js?h=86583272338c691f1bb6" integrity="sha384-OKha9T0pwfrJHNey2CNW44GnP89XWdiSF+ha+KbH5pGWeS1kANWJ7H5lJajhxi6R"></script>
  <script defer src="https://previewdocs.nosqlbench.io/abridge-bundle-nofacade.min.js?h=9bcf621a2fcab7336017" integrity="sha384-u8AROOUG6n2Xjk2+7pvkkfeSIqinjI1tmqeBpZRlZtc5KFO/8DyFfEir6fAE2wcq"></script>
  <meta name="base" content="https://previewdocs.nosqlbench.io" />
<meta name="robots" content="index, follow" />
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <title>HTTP-Rest Starter | NoSQLBench Project (PREVIEW)</title>
  <meta name="copyright" content="NoSQLBench Project (PREVIEW)" />
  <meta name="description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <link rel="canonical" href="https://previewdocs.nosqlbench.io/blog/http-rest/" />
  <meta name="keywords" content="Abridge, Abridge.css, Zola, Theme, Zola Theme, getzola, Semantic Html, Fast, lightweight" />
  <meta property="og:url" content="https://previewdocs.nosqlbench.io/blog/http-rest/" />
  <meta name="twitter:url" content="https://previewdocs.nosqlbench.io/blog/http-rest/" />
  <meta property="og:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta name="twitter:description" content="NoSQLBench is an Open Source, Multi-Protocol, Pluggable, Scriptable, NoSQL (and more) Testing System." />
  <meta property="og:title" content="NoSQLBench Project (PREVIEW)" />
  <meta name="twitter:title" content="NoSQLBench Project (PREVIEW)" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://previewdocs.nosqlbench.io/nb5banner.png" />
  <meta property="og:image" content="https://previewdocs.nosqlbench.io/nb5banner.png" />
  <meta property="og:site_name" content="NoSQLBench Project (PREVIEW)" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:updated_time" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#333333" />
  <meta name="msapplication-TileColor" content="#333333" />
  <link rel="manifest" href="https://previewdocs.nosqlbench.io/site.webmanifest" />
  <link rel="mask-icon" href="https://previewdocs.nosqlbench.io/safari-pinned-tab.svg" color="#ff9900" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://previewdocs.nosqlbench.io/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://previewdocs.nosqlbench.io/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://previewdocs.nosqlbench.io/favicon-16x16.png" />
  <noscript><link rel="stylesheet" href="https://previewdocs.nosqlbench.io/nojs.css" /></noscript>
</head>
<body>
  <header>
    <nav>
      <div><h1><a href="https://previewdocs.nosqlbench.io/"><img src="https://previewdocs.nosqlbench.io/nb5logo.png" alt="NoSQLBench5 (preview)" width="32" height="32" /> NoSQLBench v5 (PREVIEW)</a></h1></div><div>
        <ul><li> <h2><a href="https://previewdocs.nosqlbench.io/blog/">Blog</a></h2> </li><li> <h2><a href="https://previewdocs.nosqlbench.io/getting-started/">Getting Started</a></h2> </li><li> <h2><a href="https://previewdocs.nosqlbench.io/release-notes/">Release Notes</a></h2> </li><li class="js"><i type="reset" id="mode" class="svgs adjust"></i></li></ul>
      </div>
      <div>
        <form autocomplete=off class="js" name="goSearch" id="searchbox">
          <div class="searchd">
            <input id="searchinput" type="text" placeholder="Search" title="Search" />
            <button type="submit" title="Search"><i class="svgs search"></i></button>
          </div>
          <div><div id="suggestions"></div></div>
        </form>
      </div>

      <a href="http://github.com/nosqlbench/nosqlbench-build-docs" title="This doc site's project repo">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="1" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
      <a href="http://nosqlbench.io" title="NoSQLBench Project Site">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22 18"
             fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round"
             stroke-linejoin="round">
          <path
              d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
    </nav>
    <hr /><div style="position:sticky"><span><a href="&#x2F;">NB5 Docs‚ñ∫ </a></span><span><a href="&#x2F;blog&#x2F;">NoSQLBench Blogs‚ñ∫ </a></span><span title="NoSQLBench http-rest starter scenario."><a href="&#x2F;blog&#x2F;http-rest&#x2F;"><strong>HTTP-Rest Starter w&#x2F; Stargate‚ñº</strong> </a></span><span title="[current page]"><a href="&#x2F;blog&#x2F;http-rest&#x2F;quickstart-http-rest&#x2F;"><strong>HTTP-Rest Starter üñ∫</strong></a></span>
</div></header>
  <main><!-- active_page: blog&#x2F;http-rest&#x2F;quickstart-http-rest.md -->
<!-- active_section: blog&#x2F;http-rest&#x2F;_index.md -->


<!-- lower_root: _index.md -->
<!-- >upper_root: _index.md -->

<div class="toc" aria-hidden="true" id="">
<!--  <h4>HTTP-Rest Starter w&amp;#x2F; Stargate</h4>--><div class="toc-sticky"><div class="toc-item"title="Release Notes for each major and some minor releases"><a href="&#x2F;release-notes&#x2F;">‚ñ∫Release Notes</a></div><div class="toc-item"title="An introduction to what makes NoSQLBench Unique"><a href="&#x2F;introduction&#x2F;">‚ñ∫Introduction</a></div><div class="toc-item"title="Getting Started with NoSQLBench"><a href="&#x2F;getting-started&#x2F;">‚ñ∫Getting Started</a></div><div class="toc-item"title="You can build workloads to simulate real-world data and access patterns."><a href="&#x2F;workloads-101&#x2F;">‚ñ∫Workloads 101</a></div><div class="toc-item"title="Detailed documentation on all options and features of NoSQLBench"><a href="&#x2F;user-guide&#x2F;">‚ñ∫User Guide</a></div><div class="toc-item"title="The NB5 Developer Guide"><a href="&#x2F;dev-guide&#x2F;">‚ñ∫Dev Guide</a></div><div class="toc-item"title="Detailed reference on drivers, formats, bindings, from auto-imported docs"><a href="&#x2F;reference&#x2F;">‚ñ∫Reference Section</a></div></div>
</div>

<article>

  <h1 id="http-rest-starter-w-stargate">Http-Rest-Starter w/ Stargate</h1>
<img width="768" height="461" border=3 title="a title" alt="Alt text" src="httprestblog-768x461.jpg">
<p>Author: Jeff Banks (DataStax)</p>
<p>&nbsp;</p>
<h2 id="introduction">Introduction</h2>
<p>Welcome to the NoSQLBench Quick Byte, second session in a ‚ÄúGetting Started‚Äù series for NoSQLBench. This session 
introduces a new Http-Rest Starter workload now available in version 5 of NoSQLBench.</p>
<ul>
<li>
<p>If you haven't heard of NoSQLBench, checkout our introduction material <a rel="noopener" target="_blank" href="https://docs.nosqlbench.io/introduction/">here</a>.</p>
</li>
<li>
<p>If you already have a foundation with NoSQLBench and would like to understand what's included in the most recent 
version, checkout the release notes <a rel="noopener" target="_blank" href="https://github.com/nosqlbench/nosqlbench/releases">here</a>.</p>
</li>
<li>
<p>If you would like to start with the first session in the NoSQLBench ‚ÄúGetting Started‚Äù series, check it out <a href="../cql-starter/quickstart-cql.md">here</a>.</p>
</li>
</ul>
<p>This session illustrates use of http-rest methods, using NoSQLBench v5, along with a Docker deployment of an open source 
data gateway called <a rel="noopener" target="_blank" href="https://stargate.io/">Stargate</a>.<br />
For more information about Stargate, checkout the repository <a rel="noopener" target="_blank" href="https://github.com/stargate/stargate">here</a>.</p>
<p>In comparison to the previous <a href="../cql-starter/quickstart-cql.md">cql-starter</a>, this starter focuses on http-rest interactions with the data gateway itself instead 
of via a CQL driver‚Äôs interaction with Cassandra.</p>
<p>Let‚Äôs get rolling and learn about http-rest operations!</p>
<h2 id="setup-requirements">Setup requirements</h2>
<p>This session was tested with:</p>
<ul>
<li>Ubuntu (v20.4)</li>
<li>Docker(v20.10.18)</li>
<li>Stargate  (v2.0.9)</li>
<li>NoSQLBench (v5.17.3+)</li>
</ul>
<h3 id="ensure-docker-is-installed">Ensure Docker is installed</h3>
<p>Download from: <a rel="noopener" target="_blank" href="https://www.docker.com/">here</a></p>
<h3 id="obtain-the-latest-nb5-release">Obtain the latest NB5 release</h3>
<p>Download from: <a rel="noopener" target="_blank" href="https://github.com/nosqlbench/nosqlbench/releases">here</a></p>
<h3 id="ensure-the-nb5-binary-is-accessible">Ensure the NB5 binary is accessible</h3>
<p>If so, you should be able to see your version installed using:</p>
<pre class="z-code"><code><span class="z-text z-plain"> ./nb5 --version 
</span></code></pre>
<h3 id="clone-stargate-locally">Clone Stargate locally</h3>
<p>Clone from: <a rel="noopener" target="_blank" href="https://github.com/stargate/stargate">here</a></p>
<h3 id="run-stargate-services-in-docker">Run Stargate services in Docker</h3>
<p>Navigate to your local Stargate repository and execute the specified script.</p>
<pre class="z-code"><code><span class="z-text z-plain">cd ./stargate/docker-compose/cassandra-4.0/
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">./start_cass_40_dev_mode.sh
</span></code></pre>
<p>Verify the Stargate services are started and healthy.</p>
<pre class="z-code"><code><span class="z-text z-plain">7d0c9076153c stargateio/graphqlapi:v2 &quot;/usr/local/s2i/run&quot; - Up About a minute (healthy)
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">2757157aa423  stargateio/restapi:v2  &quot;/usr/local/s2i/run&quot; - Up About a minute (healthy)
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">b0c00f0bdd56   stargateio/docsapi:v2  &quot;/usr/local/s2i/run&quot; - Up About a minute (healthy)
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">1ab290e89dc6  stargateio/coordinator-4_0:v2  &quot;./starctl&quot; - Up 2 minutes (healthy)
</span></code></pre>
<h2 id="running-the-scenario">Running the scenario</h2>
<p>Now, we are ready to run the http-rest-starter NoSQLBench scenario.</p>
<h4 id="navigate-to-nb5-binary-downloaded-identify-workload">Navigate to NB5 binary downloaded &amp; identify workload</h4>
<pre class="z-code"><code><span class="z-text z-plain">./nb5 --list-workloads | grep http-rest-starter
</span></code></pre>
<p>Example output:</p>
<pre class="z-code"><code><span class="z-text z-plain">/activities/baselines/http-rest-starter.yaml
</span></code></pre>
<p>Note: this scenario resides in the adapter-http parent directory for the repository.</p>
<h4 id="optional-step">Optional step</h4>
<p>An alternative is to copy the workload configuration listed below to your own local file in a folder of your choosing.  You can name it whatever you like, as you will specify the absolute file path directly when issuing the scenario command.</p>
<h4 id="workload-file">Workload file</h4>
<p>This workload file is designed as a basic foundation for continuing to learn NoSQLBench capabilities as well as a starting point for customizing.  You will notice the cycle values are minimal to support local testing.  Adjust as needed for your own usage.</p>
<pre data-lang="yaml" class="language-yaml z-code"><code class="language-yaml" data-lang="yaml"><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">min_version</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>5.17.3<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">description</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-keyword z-control z-flow z-block-scalar z-literal z-yaml">|</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">  This starter workload uses an open source data gateway called Stargate,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">  which works with a simple key-value data model.
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">  1. Create a keyspace.
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">  2. Drop table if existing.
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">  3. Create table
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml"></span><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">scenarios</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">default</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">schema</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">run driver=http tags==block:&quot;schema.*&quot; threads==1 cycles==UNDEF</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rampup</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">run driver=http tags==block:&quot;rampup.*&quot; cycles===10 threads=auto</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">main</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">run driver=http tags==block:&quot;main.*&quot; cycles===10 threads=auto</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">bindings</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">request_id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">ToHashedUUID(); ToString();</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Discard(); Token(&#39;&lt;&lt;auth_token:&gt;&gt;&#39;,&#39;&lt;&lt;auth_uri:http://localhost:8081/v1/auth&gt;&gt;&#39;, &#39;&lt;&lt;auth_uid:cassandra&gt;&gt;&#39;, &#39;&lt;&lt;auth_pswd:cassandra&gt;&gt;&#39;);</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">seq_key</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Mod(10000000); ToString() -&gt; String</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">seq_value</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Hash(); Mod(1000000000); ToString() -&gt; String</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rw_key</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Uniform(0,10000000)-&gt;int; ToString() -&gt; String</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rw_value</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Hash(); Uniform(0,1000000000)-&gt;int; ToString() -&gt; String</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">blocks</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">schema</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ops</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">create-keyspace</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">POST</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/schemas/keyspaces</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">body</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-keyword z-control z-flow z-block-scalar z-folded z-yaml">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-indentation-indicator z-yaml">2</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;name&quot;: &quot;starter&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;replicas&quot;: 1
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          }
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml"></span>      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">drop-table</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">DELETE</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/schemas/keyspaces/starter/tables/http_rest_starter</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ok-status</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>[2-4][0-9][0-9]<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">create-table</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">POST</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/schemas/keyspaces/starter/tables</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">body</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-keyword z-control z-flow z-block-scalar z-folded z-yaml">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-indentation-indicator z-yaml">2</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;name&quot;: &quot;http_rest_starter&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;columnDefinitions&quot;: [
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">                &quot;name&quot;: &quot;key&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">                &quot;typeDefinition&quot;: &quot;text&quot;
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              },
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">                &quot;name&quot;: &quot;value&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">                &quot;typeDefinition&quot;: &quot;text&quot;
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              }
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            ],
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;primaryKey&quot;: {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              &quot;partitionKey&quot;: [
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">                &quot;key&quot;
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">              ]
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            },
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;ifNotExists&quot;: true
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          }
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml"></span>  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rampup</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ops</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rampup-insert</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">POST</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/keyspaces/starter/http_rest_starter</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">body</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-keyword z-control z-flow z-block-scalar z-folded z-yaml">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-indentation-indicator z-yaml">2</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;key&quot;: &quot;{seq_key}&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;value&quot;: &quot;{seq_value}&quot;
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          }
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml"></span>  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">main-read</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">params</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ratio</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-constant z-numeric z-integer z-decimal z-yaml">5</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ops</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">main-select</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">GET</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/keyspaces/starter/http_rest_starter/{rw_key}</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ok-status</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>[2-4][0-9][0-9]<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml">  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">main-write</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">params</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ratio</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-constant z-numeric z-integer z-decimal z-yaml">5</span>
</span><span class="z-source z-yaml">    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">ops</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">main-write</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">method</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">POST</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uri</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">http://&lt;&lt;stargate_host&gt;&gt;:8082/v2/keyspaces/starter/http_rest_starter</span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Accept</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Request-Id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{request_id}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">X-Cassandra-Token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>{token}<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">Content-Type</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">&quot;</span>application/json<span class="z-punctuation z-definition z-string z-end z-yaml">&quot;</span></span>
</span><span class="z-source z-yaml">        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">body</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-keyword z-control z-flow z-block-scalar z-folded z-yaml">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-indentation-indicator z-yaml">2</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          {
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;key&quot;: &quot;{rw_key}&quot;,
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">            &quot;value&quot;: &quot;{rw_value}&quot;
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">          }
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-block z-yaml">
</span></span></code></pre>
<p>Before running the scenario, let‚Äôs take a look at the layout of the file.  Most of this will be the same layout structure used in most workloads.  As such, this example reveals a large amount of the foundational. In addition, this scenario introduces blocks having HTTP methods included such as: </p>
<ul>
<li>GET</li>
<li>POST</li>
<li>DELETE</li>
</ul>
<h3 id="workload-layout">Workload layout</h3>
<p>As a review, the primary sections of a NoSQLBench workload file include:</p>
<ul>
<li>Description - A textual description of what the workload does.</li>
<li>Scenarios - Set of named scenarios for detailing the intent of the workload and defines that for various blocks (e.g. schema, rampup, main, etc.).</li>
<li>Params - Optional parameters of interest to reference for applying values.</li>
<li>Bindings - Named recipes for generated data.  These are referenced in block operations.</li>
<li>Blocks - Where the labeled operations reside (e.g. schema, rampup, and main).
<ul>
<li>Schema - A block section where the schema is actually defined and created.</li>
</ul>
</li>
<li>Rampup - Block section for data setup that becomes the backdrop for testing; it‚Äôs the density of data outside the metrics collected in the main block.</li>
<li>Main - Block section that is the target of metrics collection activities.</li>
</ul>
<h3 id="testing-operations">Testing operations</h3>
<p>The workload operations in the http-rest-starter are quite basic in form, and this is intentional.</p>
<p>The intent is to focus on a simple set of read, write, and delete operations to understand how to work with 
NoSQLBench and Stargate (a data gateway) with http-rest operations.</p>
<h4 id="table-and-keyspace">Table and keyspace</h4>
<p>For the default scenario, a simple table named <code>http_rest_starter</code> will be created with a keyspace named <code>starter</code>.</p>
<p>There will be two fields for our table, <code>key</code> and <code>value</code>, both with types of <code>text</code>.</p>
<pre class="z-code"><code><span class="z-text z-plain">{
</span><span class="z-text z-plain">  &quot;name&quot;: &quot;key&quot;,
</span><span class="z-text z-plain">     &quot;typeDefinition&quot;: &quot;text&quot;
</span><span class="z-text z-plain">}, 
</span><span class="z-text z-plain">{
</span><span class="z-text z-plain">   &quot;name&quot;: &quot;value&quot;,
</span><span class="z-text z-plain">     &quot;typeDefinition&quot;: &quot;text&quot;
</span><span class="z-text z-plain">}
</span></code></pre>
<p>In this scenario, the <code>key</code> will become the value for <code>partitioningKey</code>:</p>
<pre class="z-code"><code><span class="z-text z-plain">&quot;primaryKey&quot;: {
</span><span class="z-text z-plain">  &quot;partitionKey&quot;: [
</span><span class="z-text z-plain">    &quot;key&quot;
</span><span class="z-text z-plain">  ]
</span><span class="z-text z-plain">}
</span></code></pre>
<h4 id="default-scenario">Default scenario</h4>
<p>For this session, the <code>default</code> scenario is being used.  As such, all operations are set up to be targeted and executed.</p>
<pre class="z-code"><code><span class="z-text z-plain">scenarios:
</span><span class="z-text z-plain"> default:
</span><span class="z-text z-plain">   schema: run driver=http tags==block:&quot;schema.*&quot; threads==1 cycles==UNDEF       
</span><span class="z-text z-plain">   rampup: run driver=http tags==block:&quot;rampup.*&quot; cycles===3 threads=auto
</span><span class="z-text z-plain">   main: run driver=http tags==block:&quot;main.*&quot; cycles===3 threads=auto
</span></code></pre>
<h4 id="bindings">Bindings</h4>
<p>Values for fields during the schema, rampup, and main operations will come from the bindings section of the file.</p>
<p>Basic examples are included in the http-rest-starter, but this illustrates how bindings supply values to be used by the operations.</p>
<pre data-lang="yaml" class="language-yaml z-code"><code class="language-yaml" data-lang="yaml"><span class="z-source z-yaml">
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">bindings</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">request_id</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">ToHashedUUID(); ToString();</span>
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">token</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Discard(); Token(&#39;&lt;&lt;auth_token:&gt;&gt;&#39;,&#39;&lt;&lt;auth_uri:http://localhost:8081/v1/auth&gt;&gt;&#39;, &#39;&lt;&lt;auth_uid:cassandra&gt;&gt;&#39;, &#39;&lt;&lt;auth_pswd:cassandra&gt;&gt;&#39;);</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">seq_key</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Mod(10000000); ToString() -&gt; String</span>
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">seq_value</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Hash(); Mod(1000000000); ToString() -&gt; String</span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rw_key</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Uniform(0,10000000)-&gt;int; ToString() -&gt; String</span>
</span><span class="z-source z-yaml"> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">rw_value</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Hash(); Uniform(0,1000000000)-&gt;int; ToString() -&gt; String</span>
</span><span class="z-source z-yaml"> 
</span></code></pre>
<p>Let‚Äôs break down the bindings to understand how they will be used as values in various operations.</p>
<ul>
<li>request_id - represents a unique ID used when making the http-rest calls.</li>
<li>auto_gen_token - this binding uses a newly added function <code>Token()</code>, providing the generation of a 
token required by Stargate. If an <code>auth_token</code> value is specified, the rest of the values passed to the Token function are ignored, as the logic to generate
a new token is not invoked.  If the <code>auth_token</code> is not specified, the <code>auth_uri</code> can be specified along with the credentials used 
for requesting a token generation.  Note that the last 3 arguments all have defaults when customizations aren't required.</li>
<li>seq_key and seq_value - are values generated for use by rampup write operations.</li>
<li>rw_key and rw_value - are values generated for use by the main read and write operations.</li>
</ul>
<h3 id="running-a-workload">Running a workload</h3>
<p>Let‚Äôs run the http-rest-starter.</p>
<h4 id="run-scenario">Run scenario</h4>
<pre class="z-code"><code><span class="z-text z-plain">./nb5 activities/baselines/http-rest-starter.yaml default stargate_host=localhost
</span></code></pre>
<p>Here, the stargate_host is indicating we are targeting the local host services running in Docker.  The port and other URL specifics are included in each of the block operations. </p>
<h4 id="examine-results">Examine results</h4>
<p>After the workload has been run, let‚Äôs take a look at the results.</p>
<pre class="z-code"><code><span class="z-text z-plain">docker container exec -it cass40-stargate-coordinator-1 sh
</span></code></pre>
<h4 id="stargate-log-activity">Stargate log activity</h4>
<p>Here you can poke around at the system.log to view the operations that were executed when running the http-rest-starter.</p>
<pre class="z-code"><code><span class="z-text z-plain">cd /stargate/log
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">tail -100 system.log
</span></code></pre>
<h2 id="next-steps">Next steps</h2>
<h3 id="more-getting-started">More getting started?</h3>
<p>Checkout the NoSQLBench getting started section and details for its capabilities for your next testing initiative.<br />
You can find the starter details <a rel="noopener" target="_blank" href="https://docs.nosqlbench.io/getting-started/">here</a>.</p>
<h3 id="more-http-rest-adapter-information">More Http-Rest adapter information?</h3>
<p>There are a number of http-rest examples in NoSQLBench.<br />
In fact, they expand on the use of the Stargate data gateway covering topics such as:</p>
<ul>
<li>Documents API</li>
<li>GraphQL (CQL first approach)</li>
<li>GraphQL (Schema first approach)</li>
</ul>
<h3 id="want-to-contribute">Want to contribute?</h3>
<p>It‚Äôs worth mentioning, NoSQLBench is open source, and we are looking for contributions to expand its features!<br />
Head over to the <a rel="noopener" target="_blank" href="https://docs.nosqlbench.io/dev-guide/contributing">contributions</a> page to find out more.</p>
<h3 id="need-more-advanced-scenarios">Need more advanced scenarios?</h3>
<p>There are a number of pre-built scenarios that exist <a rel="noopener" target="_blank" href="https://docs.nosqlbench.io/getting-started/02-scenarios/">here</a>.</p>
<p>We will continue to have more Quick Bytes for NoSQLBench in the near future.</p>
<p>Stay tuned, and thank you for reading!</p>

<p><b><a href="#">Back to top</a></b></p>
</article>
<div class="toc" aria-hidden="true">
  <div class="toc-sticky">
    <h5>HTTP-Rest Starter</h5>
    <div class="toc-item">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/blog/http-rest/quickstart-http-rest/#http-rest-starter-w-stargate">Http-Rest-Starter w&#x2F; Stargate</a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/blog/http-rest/quickstart-http-rest/#introduction"><small>- Introduction</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/blog/http-rest/quickstart-http-rest/#setup-requirements"><small>- Setup requirements</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/blog/http-rest/quickstart-http-rest/#running-the-scenario"><small>- Running the scenario</small></a>
    </div>
    <div class="toc-item-child">
      <a class="subtext" href="https://previewdocs.nosqlbench.io/blog/http-rest/quickstart-http-rest/#next-steps"><small>- Next steps</small></a>
    </div>
  </div>
</div>
  </main>
  <footer>
    <hr />
    <div class="c">
      <nav>
        <ul></ul>
      </nav>
      <p class="s90">Copyright &copy; 2023-2024 NoSQLBench Project (PREVIEW)</p>
    </div>
  </footer>
</body>
</html>
